ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_GPIO_Init,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	MX_GPIO_Init:
  25              	.LFB134:
  26              		.file 1 "Src/main.c"
   1:Src/main.c    **** 
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   ** This notice applies to any and all portions of this file
   8:Src/main.c    ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/main.c    ****   * USER CODE END. Other portions of this file, whether 
  10:Src/main.c    ****   * inserted by the user or by software development tools
  11:Src/main.c    ****   * are owned by their respective copyright owners.
  12:Src/main.c    ****   *
  13:Src/main.c    ****   * COPYRIGHT(c) 2018 STMicroelectronics
  14:Src/main.c    ****   *
  15:Src/main.c    ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/main.c    ****   * are permitted provided that the following conditions are met:
  17:Src/main.c    ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/main.c    ****   *      this list of conditions and the following disclaimer.
  19:Src/main.c    ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/main.c    ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/main.c    ****   *      and/or other materials provided with the distribution.
  22:Src/main.c    ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/main.c    ****   *      may be used to endorse or promote products derived from this software
  24:Src/main.c    ****   *      without specific prior written permission.
  25:Src/main.c    ****   *
  26:Src/main.c    ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/main.c    ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/main.c    ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/main.c    ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  30:Src/main.c    ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/main.c    ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  32:Src/main.c    ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 2


  33:Src/main.c    ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/main.c    ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/main.c    ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/main.c    ****   *
  37:Src/main.c    ****   ******************************************************************************
  38:Src/main.c    ****   */
  39:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  40:Src/main.c    **** #include "main.h"
  41:Src/main.c    **** #include "stm32l4xx_hal.h"
  42:Src/main.c    **** 
  43:Src/main.c    **** /* USER CODE BEGIN Includes */
  44:Src/main.c    **** #include <stdio.h>
  45:Src/main.c    **** #include <string.h>
  46:Src/main.c    **** /* USER CODE END Includes */
  47:Src/main.c    **** 
  48:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  49:Src/main.c    **** I2C_HandleTypeDef hi2c1;
  50:Src/main.c    **** 
  51:Src/main.c    **** UART_HandleTypeDef huart2;
  52:Src/main.c    **** 
  53:Src/main.c    **** /* USER CODE BEGIN PV */
  54:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  55:Src/main.c    **** #define Addr_Accl 0x19
  56:Src/main.c    **** #define I2C_BUF_SIZE 100
  57:Src/main.c    **** 
  58:Src/main.c    **** float xAccl = 0.00;
  59:Src/main.c    **** float yAccl = 0.00;
  60:Src/main.c    **** float zAccl = 0.00;
  61:Src/main.c    **** 
  62:Src/main.c    **** /* USER CODE END PV */
  63:Src/main.c    **** 
  64:Src/main.c    **** uint8_t r_data = 0;
  65:Src/main.c    **** uint8_t r_data2 = 0;
  66:Src/main.c    **** 
  67:Src/main.c    **** char k[I2C_BUF_SIZE];
  68:Src/main.c    **** char s[I2C_BUF_SIZE];
  69:Src/main.c    **** 
  70:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  71:Src/main.c    **** void SystemClock_Config(void);
  72:Src/main.c    **** static void MX_GPIO_Init(void);
  73:Src/main.c    **** static void MX_USART2_UART_Init(void);
  74:Src/main.c    **** static void MX_I2C1_Init(void);
  75:Src/main.c    **** 
  76:Src/main.c    **** void BMX_Init(void);
  77:Src/main.c    **** void BMX_Accl(void);
  78:Src/main.c    **** void BMX_Set_Shadow_dis(_Bool);
  79:Src/main.c    **** _Bool BMX_Check_connection(void);
  80:Src/main.c    **** 
  81:Src/main.c    **** 
  82:Src/main.c    **** /**
  83:Src/main.c    ****   * @brief  The application entry point.
  84:Src/main.c    ****   *
  85:Src/main.c    ****   * @retval None
  86:Src/main.c    ****   */
  87:Src/main.c    **** int main(void)
  88:Src/main.c    **** {
  89:Src/main.c    ****   /* USER CODE BEGIN 1 */
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 3


  90:Src/main.c    **** 
  91:Src/main.c    ****   /* USER CODE END 1 */
  92:Src/main.c    **** 
  93:Src/main.c    ****   /* MCU Configuration----------------------------------------------------------*/
  94:Src/main.c    **** 
  95:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  96:Src/main.c    ****   HAL_Init();
  97:Src/main.c    **** 
  98:Src/main.c    ****   /* USER CODE BEGIN Init */
  99:Src/main.c    **** 
 100:Src/main.c    ****   /* USER CODE END Init */
 101:Src/main.c    **** 
 102:Src/main.c    ****   /* Configure the system clock */
 103:Src/main.c    ****   SystemClock_Config();
 104:Src/main.c    **** 
 105:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 106:Src/main.c    **** 
 107:Src/main.c    ****   /* USER CODE END SysInit */
 108:Src/main.c    **** 
 109:Src/main.c    ****   /* Initialize all configured peripherals */
 110:Src/main.c    ****   MX_GPIO_Init();
 111:Src/main.c    ****   MX_USART2_UART_Init();
 112:Src/main.c    ****   MX_I2C1_Init();
 113:Src/main.c    ****   /* USER CODE BEGIN 2 */
 114:Src/main.c    ****   BMX_Init();
 115:Src/main.c    ****   BMX_Check_connection();
 116:Src/main.c    ****   /* USER CODE END 2 */
 117:Src/main.c    **** 
 118:Src/main.c    ****   /* Infinite loop */
 119:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 120:Src/main.c    ****  
 121:Src/main.c    ****   while (1)
 122:Src/main.c    ****   {
 123:Src/main.c    **** 
 124:Src/main.c    ****   }
 125:Src/main.c    **** }
 126:Src/main.c    **** 
 127:Src/main.c    **** 
 128:Src/main.c    **** /** BMX Init*/
 129:Src/main.c    **** void BMX_Init(void){
 130:Src/main.c    **** // init x axis 
 131:Src/main.c    **** 
 132:Src/main.c    **** //select PMU band width resisiter and set to 7.81 Hz
 133:Src/main.c    **** uint16_t Mem_PMU_BW = 0x10;
 134:Src/main.c    **** uint8_t p_BW = 0x08;
 135:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_BW,1,&p_BW,1,100);
 136:Src/main.c    **** HAL_Delay(100);
 137:Src/main.c    **** 
 138:Src/main.c    **** //select PMU range resisiter and set to -2
 139:Src/main.c    **** uint16_t Mem_PMU_Range = 0x0F;
 140:Src/main.c    **** uint8_t p_Range = 0x03;
 141:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_Range,1,&p_Range,1,100);
 142:Src/main.c    **** HAL_Delay(100);
 143:Src/main.c    **** 
 144:Src/main.c    **** //select PMU LPW resisiter and Normal mode
 145:Src/main.c    **** uint16_t Mem_PMU_LPW = 0x11;
 146:Src/main.c    **** uint8_t p_LPW = 0x00;
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 4


 147:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_LPW,1,&p_LPW,1,100);
 148:Src/main.c    **** HAL_Delay(100);
 149:Src/main.c    **** }
 150:Src/main.c    **** 
 151:Src/main.c    **** // BMX read Acceleration 
 152:Src/main.c    **** void BMX_Accl(void){
 153:Src/main.c    ****   uint8_t xAccl_MSB;
 154:Src/main.c    ****   uint8_t xAccl_LSB;
 155:Src/main.c    ****   uint8_t yAccl_MSB;
 156:Src/main.c    ****   uint8_t yAccl_LSB;
 157:Src/main.c    ****   uint8_t zAccl_MSB;
 158:Src/main.c    ****   uint8_t zAccl_LSB;
 159:Src/main.c    **** 
 160:Src/main.c    ****   uint8_t Mem_xLSB = 0x02;  
 161:Src/main.c    ****   uint8_t Mem_xMSB = 0x03;
 162:Src/main.c    ****   uint8_t Mem_yLSB = 0x04;
 163:Src/main.c    ****   uint8_t Mem_yMSB = 0x05;
 164:Src/main.c    ****   uint8_t Mem_zLSB = 0x06;  
 165:Src/main.c    ****   uint8_t Mem_zMSB = 0x07;
 166:Src/main.c    ****   
 167:Src/main.c    ****   _Bool is_available = 1;
 168:Src/main.c    ****   _Bool is_unavailable = 0;
 169:Src/main.c    **** 
 170:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_xLSB,1,&xAccl_LSB,1,100);
 171:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 172:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_xMSB,1,&xAccl_MSB,1,100);
 173:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 174:Src/main.c    ****   
 175:Src/main.c    ****  
 176:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_yLSB,1,&yAccl_LSB,1,100);
 177:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 178:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_yMSB,1,&yAccl_MSB,1,100);
 179:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 180:Src/main.c    ****   
 181:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_zLSB,1,&zAccl_LSB,1,100);
 182:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 183:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_zMSB,1,&zAccl_MSB,1,100);
 184:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 185:Src/main.c    **** 
 186:Src/main.c    ****   xAccl = ((xAccl_MSB*256) + (xAccl_LSB & 0xF0))/16;
 187:Src/main.c    ****   if(xAccl>2047) xAccl -= 4096;
 188:Src/main.c    ****   yAccl = ((yAccl_MSB*256) + (yAccl_LSB & 0xF0))/16;
 189:Src/main.c    ****   if(yAccl>2047) yAccl -= 4096;
 190:Src/main.c    ****   xAccl = ((zAccl_MSB*256) + (zAccl_LSB & 0xF0))/16;
 191:Src/main.c    ****   if(zAccl>2047) zAccl -= 4096;
 192:Src/main.c    ****   
 193:Src/main.c    ****   xAccl = xAccl*0.0098;
 194:Src/main.c    ****   yAccl = yAccl*0.0098;
 195:Src/main.c    ****   zAccl = zAccl*0.0098;
 196:Src/main.c    **** }
 197:Src/main.c    **** 
 198:Src/main.c    **** void BMX_Set_Shadow_dis(_Bool status){
 199:Src/main.c    ****   uint8_t Shadow_dis = 0x13;
 200:Src/main.c    ****   uint8_t SetValue;
 201:Src/main.c    ****   
 202:Src/main.c    ****   if (status == 1) SetValue = 0b00000000;
 203:Src/main.c    ****   else if ( status == 0) SetValue =  0b01000000;
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 5


 204:Src/main.c    ****   HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Shadow_dis,1,&SetValue,1,100);
 205:Src/main.c    **** }
 206:Src/main.c    **** 
 207:Src/main.c    **** _Bool BMX_Check_connection(void){
 208:Src/main.c    ****   uint8_t r_data;
 209:Src/main.c    **** 
 210:Src/main.c    ****   char buff[I2C_BUF_SIZE];
 211:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,0x00,1,&r_data,1,100);
 212:Src/main.c    ****   if (r_data == 0xFA) sprintf(buff,"Connection available\n",r_data);
 213:Src/main.c    ****   else if (r_data != 0xFA) sprintf(buff,"Connection unavailable\n",r_data);  
 214:Src/main.c    ****   HAL_UART_Transmit (&huart2,(uint8_t*)(&buff[0]),strlen(&k[0]),100);
 215:Src/main.c    **** }
 216:Src/main.c    ****                 
 217:Src/main.c    **** /**
 218:Src/main.c    ****   * @brief System Clock Configuration
 219:Src/main.c    ****   * @retval None
 220:Src/main.c    ****   */
 221:Src/main.c    **** void SystemClock_Config(void)
 222:Src/main.c    **** {
 223:Src/main.c    **** 
 224:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct;
 225:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct;
 226:Src/main.c    ****   RCC_PeriphCLKInitTypeDef PeriphClkInit;
 227:Src/main.c    **** 
 228:Src/main.c    ****     /**Initializes the CPU, AHB and APB busses clocks 
 229:Src/main.c    ****     */
 230:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
 231:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 232:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = 16;
 233:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 234:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 235:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLM = 1;
 236:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLN = 10;
 237:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV7;
 238:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLQ = RCC_PLLQ_DIV2;
 239:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLR = RCC_PLLR_DIV2;
 240:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 241:Src/main.c    ****   {
 242:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 243:Src/main.c    ****   }
 244:Src/main.c    **** 
 245:Src/main.c    ****     /**Initializes the CPU, AHB and APB busses clocks 
 246:Src/main.c    ****     */
 247:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 248:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 249:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 250:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 251:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 252:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 253:Src/main.c    **** 
 254:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_4) != HAL_OK)
 255:Src/main.c    ****   {
 256:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 257:Src/main.c    ****   }
 258:Src/main.c    **** 
 259:Src/main.c    ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USART2|RCC_PERIPHCLK_I2C1;
 260:Src/main.c    ****   PeriphClkInit.Usart2ClockSelection = RCC_USART2CLKSOURCE_PCLK1;
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 6


 261:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_PCLK1;
 262:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 263:Src/main.c    ****   {
 264:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 265:Src/main.c    ****   }
 266:Src/main.c    **** 
 267:Src/main.c    ****     /**Configure the main internal regulator output voltage 
 268:Src/main.c    ****     */
 269:Src/main.c    ****   if (HAL_PWREx_ControlVoltageScaling(PWR_REGULATOR_VOLTAGE_SCALE1) != HAL_OK)
 270:Src/main.c    ****   {
 271:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 272:Src/main.c    ****   }
 273:Src/main.c    **** 
 274:Src/main.c    ****     /**Configure the Systick interrupt time 
 275:Src/main.c    ****     */
 276:Src/main.c    ****   HAL_SYSTICK_Config(HAL_RCC_GetHCLKFreq()/1000);
 277:Src/main.c    **** 
 278:Src/main.c    ****     /**Configure the Systick 
 279:Src/main.c    ****     */
 280:Src/main.c    ****   HAL_SYSTICK_CLKSourceConfig(SYSTICK_CLKSOURCE_HCLK);
 281:Src/main.c    **** 
 282:Src/main.c    ****   /* SysTick_IRQn interrupt configuration */
 283:Src/main.c    ****   HAL_NVIC_SetPriority(SysTick_IRQn, 0, 0);
 284:Src/main.c    **** }
 285:Src/main.c    **** 
 286:Src/main.c    **** /* I2C1 init function */
 287:Src/main.c    **** static void MX_I2C1_Init(void)
 288:Src/main.c    **** {
 289:Src/main.c    **** 
 290:Src/main.c    ****   hi2c1.Instance = I2C1;
 291:Src/main.c    ****   hi2c1.Init.Timing = 0x10909CEC;
 292:Src/main.c    ****   hi2c1.Init.OwnAddress1 = 0;
 293:Src/main.c    ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 294:Src/main.c    ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 295:Src/main.c    ****   hi2c1.Init.OwnAddress2 = 0;
 296:Src/main.c    ****   hi2c1.Init.OwnAddress2Masks = I2C_OA2_NOMASK;
 297:Src/main.c    ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 298:Src/main.c    ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 299:Src/main.c    ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
 300:Src/main.c    ****   {
 301:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 302:Src/main.c    ****   }
 303:Src/main.c    **** 
 304:Src/main.c    ****     /**Configure Analogue filter 
 305:Src/main.c    ****     */
 306:Src/main.c    ****   if (HAL_I2CEx_ConfigAnalogFilter(&hi2c1, I2C_ANALOGFILTER_ENABLE) != HAL_OK)
 307:Src/main.c    ****   {
 308:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 309:Src/main.c    ****   }
 310:Src/main.c    **** 
 311:Src/main.c    ****     /**Configure Digital filter 
 312:Src/main.c    ****     */
 313:Src/main.c    ****   if (HAL_I2CEx_ConfigDigitalFilter(&hi2c1, 0) != HAL_OK)
 314:Src/main.c    ****   {
 315:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 316:Src/main.c    ****   }
 317:Src/main.c    **** 
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 7


 318:Src/main.c    **** }
 319:Src/main.c    **** 
 320:Src/main.c    **** /* USART2 init function */
 321:Src/main.c    **** static void MX_USART2_UART_Init(void)
 322:Src/main.c    **** {
 323:Src/main.c    **** 
 324:Src/main.c    ****   huart2.Instance = USART2;
 325:Src/main.c    ****   huart2.Init.BaudRate = 115200;
 326:Src/main.c    ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 327:Src/main.c    ****   huart2.Init.StopBits = UART_STOPBITS_1;
 328:Src/main.c    ****   huart2.Init.Parity = UART_PARITY_NONE;
 329:Src/main.c    ****   huart2.Init.Mode = UART_MODE_TX_RX;
 330:Src/main.c    ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 331:Src/main.c    ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 332:Src/main.c    ****   huart2.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
 333:Src/main.c    ****   huart2.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
 334:Src/main.c    ****   if (HAL_UART_Init(&huart2) != HAL_OK)
 335:Src/main.c    ****   {
 336:Src/main.c    ****     _Error_Handler(__FILE__, __LINE__);
 337:Src/main.c    ****   }
 338:Src/main.c    **** 
 339:Src/main.c    **** }
 340:Src/main.c    **** 
 341:Src/main.c    **** /** Configure pins as 
 342:Src/main.c    ****         * Analog 
 343:Src/main.c    ****         * Input 
 344:Src/main.c    ****         * Output
 345:Src/main.c    ****         * EVENT_OUT
 346:Src/main.c    ****         * EXTI
 347:Src/main.c    **** */
 348:Src/main.c    **** static void MX_GPIO_Init(void)
 349:Src/main.c    **** {
  27              		.loc 1 349 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 40
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 10B5     		push	{r4, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
  36 0002 8AB0     		sub	sp, sp, #40
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 48
  39              	.LBB2:
 350:Src/main.c    **** 
 351:Src/main.c    ****   GPIO_InitTypeDef GPIO_InitStruct;
 352:Src/main.c    **** 
 353:Src/main.c    ****   /* GPIO Ports Clock Enable */
 354:Src/main.c    ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  40              		.loc 1 354 0
  41 0004 214B     		ldr	r3, .L3
  42 0006 DA6C     		ldr	r2, [r3, #76]
  43 0008 42F00402 		orr	r2, r2, #4
  44 000c DA64     		str	r2, [r3, #76]
  45 000e DA6C     		ldr	r2, [r3, #76]
  46 0010 02F00402 		and	r2, r2, #4
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 8


  47 0014 0192     		str	r2, [sp, #4]
  48 0016 019A     		ldr	r2, [sp, #4]
  49              	.LBE2:
  50              	.LBB3:
 355:Src/main.c    ****   __HAL_RCC_GPIOH_CLK_ENABLE();
  51              		.loc 1 355 0
  52 0018 DA6C     		ldr	r2, [r3, #76]
  53 001a 42F08002 		orr	r2, r2, #128
  54 001e DA64     		str	r2, [r3, #76]
  55 0020 DA6C     		ldr	r2, [r3, #76]
  56 0022 02F08002 		and	r2, r2, #128
  57 0026 0292     		str	r2, [sp, #8]
  58 0028 029A     		ldr	r2, [sp, #8]
  59              	.LBE3:
  60              	.LBB4:
 356:Src/main.c    ****   __HAL_RCC_GPIOA_CLK_ENABLE();
  61              		.loc 1 356 0
  62 002a DA6C     		ldr	r2, [r3, #76]
  63 002c 42F00102 		orr	r2, r2, #1
  64 0030 DA64     		str	r2, [r3, #76]
  65 0032 DA6C     		ldr	r2, [r3, #76]
  66 0034 02F00102 		and	r2, r2, #1
  67 0038 0392     		str	r2, [sp, #12]
  68 003a 039A     		ldr	r2, [sp, #12]
  69              	.LBE4:
  70              	.LBB5:
 357:Src/main.c    ****   __HAL_RCC_GPIOB_CLK_ENABLE();
  71              		.loc 1 357 0
  72 003c DA6C     		ldr	r2, [r3, #76]
  73 003e 42F00202 		orr	r2, r2, #2
  74 0042 DA64     		str	r2, [r3, #76]
  75 0044 DB6C     		ldr	r3, [r3, #76]
  76 0046 03F00203 		and	r3, r3, #2
  77 004a 0493     		str	r3, [sp, #16]
  78 004c 049B     		ldr	r3, [sp, #16]
  79              	.LBE5:
 358:Src/main.c    **** 
 359:Src/main.c    ****   /*Configure GPIO pin Output Level */
 360:Src/main.c    ****   HAL_GPIO_WritePin(LD2_GPIO_Port, LD2_Pin, GPIO_PIN_RESET);
  80              		.loc 1 360 0
  81 004e 0022     		movs	r2, #0
  82 0050 2021     		movs	r1, #32
  83 0052 4FF09040 		mov	r0, #1207959552
  84 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
  85              	.LVL0:
 361:Src/main.c    **** 
 362:Src/main.c    ****   /*Configure GPIO pin : B1_Pin */
 363:Src/main.c    ****   GPIO_InitStruct.Pin = B1_Pin;
  86              		.loc 1 363 0
  87 005a 4FF40053 		mov	r3, #8192
  88 005e 0593     		str	r3, [sp, #20]
 364:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_IT_FALLING;
  89              		.loc 1 364 0
  90 0060 0B4B     		ldr	r3, .L3+4
  91 0062 0693     		str	r3, [sp, #24]
 365:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
  92              		.loc 1 365 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 9


  93 0064 0024     		movs	r4, #0
  94 0066 0794     		str	r4, [sp, #28]
 366:Src/main.c    ****   HAL_GPIO_Init(B1_GPIO_Port, &GPIO_InitStruct);
  95              		.loc 1 366 0
  96 0068 05A9     		add	r1, sp, #20
  97 006a 0A48     		ldr	r0, .L3+8
  98 006c FFF7FEFF 		bl	HAL_GPIO_Init
  99              	.LVL1:
 367:Src/main.c    **** 
 368:Src/main.c    ****   /*Configure GPIO pin : LD2_Pin */
 369:Src/main.c    ****   GPIO_InitStruct.Pin = LD2_Pin;
 100              		.loc 1 369 0
 101 0070 2023     		movs	r3, #32
 102 0072 0593     		str	r3, [sp, #20]
 370:Src/main.c    ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 103              		.loc 1 370 0
 104 0074 0123     		movs	r3, #1
 105 0076 0693     		str	r3, [sp, #24]
 371:Src/main.c    ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 106              		.loc 1 371 0
 107 0078 0794     		str	r4, [sp, #28]
 372:Src/main.c    ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 108              		.loc 1 372 0
 109 007a 0894     		str	r4, [sp, #32]
 373:Src/main.c    ****   HAL_GPIO_Init(LD2_GPIO_Port, &GPIO_InitStruct);
 110              		.loc 1 373 0
 111 007c 05A9     		add	r1, sp, #20
 112 007e 4FF09040 		mov	r0, #1207959552
 113 0082 FFF7FEFF 		bl	HAL_GPIO_Init
 114              	.LVL2:
 374:Src/main.c    **** 
 375:Src/main.c    **** }
 115              		.loc 1 375 0
 116 0086 0AB0     		add	sp, sp, #40
 117              	.LCFI2:
 118              		.cfi_def_cfa_offset 8
 119              		@ sp needed
 120 0088 10BD     		pop	{r4, pc}
 121              	.L4:
 122 008a 00BF     		.align	2
 123              	.L3:
 124 008c 00100240 		.word	1073876992
 125 0090 00002110 		.word	270598144
 126 0094 00080048 		.word	1207961600
 127              		.cfi_endproc
 128              	.LFE134:
 130              		.section	.text.BMX_Init,"ax",%progbits
 131              		.align	1
 132              		.global	BMX_Init
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu fpv4-sp-d16
 138              	BMX_Init:
 139              	.LFB127:
 129:Src/main.c    **** // init x axis 
 140              		.loc 1 129 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 10


 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 8
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144 0000 70B5     		push	{r4, r5, r6, lr}
 145              	.LCFI3:
 146              		.cfi_def_cfa_offset 16
 147              		.cfi_offset 4, -16
 148              		.cfi_offset 5, -12
 149              		.cfi_offset 6, -8
 150              		.cfi_offset 14, -4
 151 0002 86B0     		sub	sp, sp, #24
 152              	.LCFI4:
 153              		.cfi_def_cfa_offset 40
 154              	.LVL3:
 134:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_BW,1,&p_BW,1,100);
 155              		.loc 1 134 0
 156 0004 06AB     		add	r3, sp, #24
 157 0006 0822     		movs	r2, #8
 158 0008 03F8012D 		strb	r2, [r3, #-1]!
 135:Src/main.c    **** HAL_Delay(100);
 159              		.loc 1 135 0
 160 000c 184E     		ldr	r6, .L7
 161 000e 6424     		movs	r4, #100
 162 0010 0294     		str	r4, [sp, #8]
 163 0012 0125     		movs	r5, #1
 164 0014 0195     		str	r5, [sp, #4]
 165 0016 0093     		str	r3, [sp]
 166 0018 2B46     		mov	r3, r5
 167 001a 1022     		movs	r2, #16
 168 001c 3221     		movs	r1, #50
 169 001e 3046     		mov	r0, r6
 170 0020 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 171              	.LVL4:
 136:Src/main.c    **** 
 172              		.loc 1 136 0
 173 0024 2046     		mov	r0, r4
 174 0026 FFF7FEFF 		bl	HAL_Delay
 175              	.LVL5:
 140:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_Range,1,&p_Range,1,100);
 176              		.loc 1 140 0
 177 002a 06AB     		add	r3, sp, #24
 178 002c 0322     		movs	r2, #3
 179 002e 03F8022D 		strb	r2, [r3, #-2]!
 141:Src/main.c    **** HAL_Delay(100);
 180              		.loc 1 141 0
 181 0032 0294     		str	r4, [sp, #8]
 182 0034 0195     		str	r5, [sp, #4]
 183 0036 0093     		str	r3, [sp]
 184 0038 2B46     		mov	r3, r5
 185 003a 0F22     		movs	r2, #15
 186 003c 3221     		movs	r1, #50
 187 003e 3046     		mov	r0, r6
 188 0040 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 189              	.LVL6:
 142:Src/main.c    **** 
 190              		.loc 1 142 0
 191 0044 2046     		mov	r0, r4
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 11


 192 0046 FFF7FEFF 		bl	HAL_Delay
 193              	.LVL7:
 146:Src/main.c    **** HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Mem_PMU_LPW,1,&p_LPW,1,100);
 194              		.loc 1 146 0
 195 004a 06AB     		add	r3, sp, #24
 196 004c 0022     		movs	r2, #0
 197 004e 03F8032D 		strb	r2, [r3, #-3]!
 147:Src/main.c    **** HAL_Delay(100);
 198              		.loc 1 147 0
 199 0052 0294     		str	r4, [sp, #8]
 200 0054 0195     		str	r5, [sp, #4]
 201 0056 0093     		str	r3, [sp]
 202 0058 2B46     		mov	r3, r5
 203 005a 1122     		movs	r2, #17
 204 005c 3221     		movs	r1, #50
 205 005e 3046     		mov	r0, r6
 206 0060 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 207              	.LVL8:
 148:Src/main.c    **** }
 208              		.loc 1 148 0
 209 0064 2046     		mov	r0, r4
 210 0066 FFF7FEFF 		bl	HAL_Delay
 211              	.LVL9:
 149:Src/main.c    **** 
 212              		.loc 1 149 0
 213 006a 06B0     		add	sp, sp, #24
 214              	.LCFI5:
 215              		.cfi_def_cfa_offset 16
 216              		@ sp needed
 217 006c 70BD     		pop	{r4, r5, r6, pc}
 218              	.L8:
 219 006e 00BF     		.align	2
 220              	.L7:
 221 0070 00000000 		.word	hi2c1
 222              		.cfi_endproc
 223              	.LFE127:
 225              		.section	.text.BMX_Set_Shadow_dis,"ax",%progbits
 226              		.align	1
 227              		.global	BMX_Set_Shadow_dis
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 231              		.fpu fpv4-sp-d16
 233              	BMX_Set_Shadow_dis:
 234              	.LFB129:
 198:Src/main.c    ****   uint8_t Shadow_dis = 0x13;
 235              		.loc 1 198 0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 8
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 239              	.LVL10:
 240 0000 00B5     		push	{lr}
 241              	.LCFI6:
 242              		.cfi_def_cfa_offset 4
 243              		.cfi_offset 14, -4
 244 0002 87B0     		sub	sp, sp, #28
 245              	.LCFI7:
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 12


 246              		.cfi_def_cfa_offset 32
 247              	.LVL11:
 202:Src/main.c    ****   else if ( status == 0) SetValue =  0b01000000;
 248              		.loc 1 202 0
 249 0004 88B9     		cbnz	r0, .L13
 203:Src/main.c    ****   HAL_I2C_Mem_Write(&hi2c1,Addr_Accl<<1,Shadow_dis,1,&SetValue,1,100);
 250              		.loc 1 203 0
 251 0006 4023     		movs	r3, #64
 252 0008 8DF81730 		strb	r3, [sp, #23]
 253              	.L11:
 204:Src/main.c    **** }
 254              		.loc 1 204 0
 255 000c 6423     		movs	r3, #100
 256 000e 0293     		str	r3, [sp, #8]
 257 0010 0123     		movs	r3, #1
 258 0012 0193     		str	r3, [sp, #4]
 259 0014 0DF11702 		add	r2, sp, #23
 260 0018 0092     		str	r2, [sp]
 261 001a 1322     		movs	r2, #19
 262 001c 3221     		movs	r1, #50
 263 001e 0548     		ldr	r0, .L14
 264              	.LVL12:
 265 0020 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 266              	.LVL13:
 205:Src/main.c    **** 
 267              		.loc 1 205 0
 268 0024 07B0     		add	sp, sp, #28
 269              	.LCFI8:
 270              		.cfi_remember_state
 271              		.cfi_def_cfa_offset 4
 272              		@ sp needed
 273 0026 5DF804FB 		ldr	pc, [sp], #4
 274              	.LVL14:
 275              	.L13:
 276              	.LCFI9:
 277              		.cfi_restore_state
 202:Src/main.c    ****   else if ( status == 0) SetValue =  0b01000000;
 278              		.loc 1 202 0 discriminator 1
 279 002a 0023     		movs	r3, #0
 280 002c 8DF81730 		strb	r3, [sp, #23]
 281 0030 ECE7     		b	.L11
 282              	.L15:
 283 0032 00BF     		.align	2
 284              	.L14:
 285 0034 00000000 		.word	hi2c1
 286              		.cfi_endproc
 287              	.LFE129:
 289              		.global	__aeabi_f2d
 290              		.global	__aeabi_dmul
 291              		.global	__aeabi_d2f
 292              		.section	.text.BMX_Accl,"ax",%progbits
 293              		.align	1
 294              		.global	BMX_Accl
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 298              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 13


 300              	BMX_Accl:
 301              	.LFB128:
 152:Src/main.c    ****   uint8_t xAccl_MSB;
 302              		.loc 1 152 0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 8
 305              		@ frame_needed = 0, uses_anonymous_args = 0
 306 0000 70B5     		push	{r4, r5, r6, lr}
 307              	.LCFI10:
 308              		.cfi_def_cfa_offset 16
 309              		.cfi_offset 4, -16
 310              		.cfi_offset 5, -12
 311              		.cfi_offset 6, -8
 312              		.cfi_offset 14, -4
 313 0002 86B0     		sub	sp, sp, #24
 314              	.LCFI11:
 315              		.cfi_def_cfa_offset 40
 316              	.LVL15:
 170:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 317              		.loc 1 170 0
 318 0004 5E4D     		ldr	r5, .L30+8
 319 0006 6426     		movs	r6, #100
 320 0008 0296     		str	r6, [sp, #8]
 321 000a 0124     		movs	r4, #1
 322 000c 0194     		str	r4, [sp, #4]
 323 000e 0DF11603 		add	r3, sp, #22
 324 0012 0093     		str	r3, [sp]
 325 0014 2346     		mov	r3, r4
 326 0016 0222     		movs	r2, #2
 327 0018 3221     		movs	r1, #50
 328 001a 2846     		mov	r0, r5
 329 001c FFF7FEFF 		bl	HAL_I2C_Mem_Read
 330              	.LVL16:
 171:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_xMSB,1,&xAccl_MSB,1,100);
 331              		.loc 1 171 0
 332 0020 2046     		mov	r0, r4
 333 0022 FFF7FEFF 		bl	BMX_Set_Shadow_dis
 334              	.LVL17:
 172:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 335              		.loc 1 172 0
 336 0026 0296     		str	r6, [sp, #8]
 337 0028 0194     		str	r4, [sp, #4]
 338 002a 0DF11703 		add	r3, sp, #23
 339 002e 0093     		str	r3, [sp]
 340 0030 2346     		mov	r3, r4
 341 0032 0322     		movs	r2, #3
 342 0034 3221     		movs	r1, #50
 343 0036 2846     		mov	r0, r5
 344 0038 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 345              	.LVL18:
 173:Src/main.c    ****   
 346              		.loc 1 173 0
 347 003c 0020     		movs	r0, #0
 348 003e FFF7FEFF 		bl	BMX_Set_Shadow_dis
 349              	.LVL19:
 176:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 350              		.loc 1 176 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 14


 351 0042 0296     		str	r6, [sp, #8]
 352 0044 0194     		str	r4, [sp, #4]
 353 0046 05AB     		add	r3, sp, #20
 354 0048 0093     		str	r3, [sp]
 355 004a 2346     		mov	r3, r4
 356 004c 0422     		movs	r2, #4
 357 004e 3221     		movs	r1, #50
 358 0050 2846     		mov	r0, r5
 359 0052 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 360              	.LVL20:
 177:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_yMSB,1,&yAccl_MSB,1,100);
 361              		.loc 1 177 0
 362 0056 2046     		mov	r0, r4
 363 0058 FFF7FEFF 		bl	BMX_Set_Shadow_dis
 364              	.LVL21:
 178:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 365              		.loc 1 178 0
 366 005c 0296     		str	r6, [sp, #8]
 367 005e 0194     		str	r4, [sp, #4]
 368 0060 0DF11503 		add	r3, sp, #21
 369 0064 0093     		str	r3, [sp]
 370 0066 2346     		mov	r3, r4
 371 0068 0522     		movs	r2, #5
 372 006a 3221     		movs	r1, #50
 373 006c 2846     		mov	r0, r5
 374 006e FFF7FEFF 		bl	HAL_I2C_Mem_Read
 375              	.LVL22:
 179:Src/main.c    ****   
 376              		.loc 1 179 0
 377 0072 0020     		movs	r0, #0
 378 0074 FFF7FEFF 		bl	BMX_Set_Shadow_dis
 379              	.LVL23:
 181:Src/main.c    ****   BMX_Set_Shadow_dis(is_available);
 380              		.loc 1 181 0
 381 0078 0296     		str	r6, [sp, #8]
 382 007a 0194     		str	r4, [sp, #4]
 383 007c 0DF11203 		add	r3, sp, #18
 384 0080 0093     		str	r3, [sp]
 385 0082 2346     		mov	r3, r4
 386 0084 0622     		movs	r2, #6
 387 0086 3221     		movs	r1, #50
 388 0088 2846     		mov	r0, r5
 389 008a FFF7FEFF 		bl	HAL_I2C_Mem_Read
 390              	.LVL24:
 182:Src/main.c    ****   HAL_I2C_Mem_Read(&hi2c1,Addr_Accl<<1,Mem_zMSB,1,&zAccl_MSB,1,100);
 391              		.loc 1 182 0
 392 008e 2046     		mov	r0, r4
 393 0090 FFF7FEFF 		bl	BMX_Set_Shadow_dis
 394              	.LVL25:
 183:Src/main.c    ****   BMX_Set_Shadow_dis(is_unavailable);
 395              		.loc 1 183 0
 396 0094 0296     		str	r6, [sp, #8]
 397 0096 0194     		str	r4, [sp, #4]
 398 0098 0DF11303 		add	r3, sp, #19
 399 009c 0093     		str	r3, [sp]
 400 009e 2346     		mov	r3, r4
 401 00a0 0722     		movs	r2, #7
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 15


 402 00a2 3221     		movs	r1, #50
 403 00a4 2846     		mov	r0, r5
 404 00a6 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 405              	.LVL26:
 184:Src/main.c    **** 
 406              		.loc 1 184 0
 407 00aa 0020     		movs	r0, #0
 408 00ac FFF7FEFF 		bl	BMX_Set_Shadow_dis
 409              	.LVL27:
 187:Src/main.c    ****   yAccl = ((yAccl_MSB*256) + (yAccl_LSB & 0xF0))/16;
 410              		.loc 1 187 0
 411 00b0 9FED347A 		vldr.32	s14, .L30+12
 188:Src/main.c    ****   if(yAccl>2047) yAccl -= 4096;
 412              		.loc 1 188 0
 413 00b4 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 414 00b8 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 415 00bc 03F0F003 		and	r3, r3, #240
 416 00c0 03EB0223 		add	r3, r3, r2, lsl #8
 417 00c4 1B11     		asrs	r3, r3, #4
 418 00c6 07EE903A 		vmov	s15, r3	@ int
 419 00ca F8EEE77A 		vcvt.f32.s32	s15, s15
 420 00ce 2E4B     		ldr	r3, .L30+16
 421 00d0 C3ED007A 		vstr.32	s15, [r3]
 189:Src/main.c    ****   xAccl = ((zAccl_MSB*256) + (zAccl_LSB & 0xF0))/16;
 422              		.loc 1 189 0
 423 00d4 F4EEC77A 		vcmpe.f32	s15, s14
 424 00d8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 425 00dc 05DD     		ble	.L21
 189:Src/main.c    ****   xAccl = ((zAccl_MSB*256) + (zAccl_LSB & 0xF0))/16;
 426              		.loc 1 189 0 is_stmt 0 discriminator 1
 427 00de 9FED2B7A 		vldr.32	s14, .L30+20
 428 00e2 77EEC77A 		vsub.f32	s15, s15, s14
 429 00e6 C3ED007A 		vstr.32	s15, [r3]
 430              	.L21:
 190:Src/main.c    ****   if(zAccl>2047) zAccl -= 4096;
 431              		.loc 1 190 0 is_stmt 1
 432 00ea 9DF81320 		ldrb	r2, [sp, #19]	@ zero_extendqisi2
 433 00ee 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 434 00f2 03F0F003 		and	r3, r3, #240
 435 00f6 03EB0223 		add	r3, r3, r2, lsl #8
 436 00fa 1B11     		asrs	r3, r3, #4
 437 00fc 07EE903A 		vmov	s15, r3	@ int
 438 0100 F8EEE77A 		vcvt.f32.s32	s15, s15
 191:Src/main.c    ****   
 439              		.loc 1 191 0
 440 0104 224B     		ldr	r3, .L30+24
 441 0106 93ED007A 		vldr.32	s14, [r3]
 442 010a DFED1E6A 		vldr.32	s13, .L30+12
 443 010e B4EEE67A 		vcmpe.f32	s14, s13
 444 0112 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 445 0116 05DD     		ble	.L24
 191:Src/main.c    ****   
 446              		.loc 1 191 0 is_stmt 0 discriminator 1
 447 0118 DFED1C6A 		vldr.32	s13, .L30+20
 448 011c 37EE667A 		vsub.f32	s14, s14, s13
 449 0120 83ED007A 		vstr.32	s14, [r3]
 450              	.L24:
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 16


 193:Src/main.c    ****   yAccl = yAccl*0.0098;
 451              		.loc 1 193 0 is_stmt 1
 452 0124 17EE900A 		vmov	r0, s15
 453 0128 FFF7FEFF 		bl	__aeabi_f2d
 454              	.LVL28:
 455 012c 12A3     		adr	r3, .L30
 456 012e D3E90023 		ldrd	r2, [r3]
 457 0132 FFF7FEFF 		bl	__aeabi_dmul
 458              	.LVL29:
 459 0136 FFF7FEFF 		bl	__aeabi_d2f
 460              	.LVL30:
 461 013a 164B     		ldr	r3, .L30+28
 462 013c 1860     		str	r0, [r3]	@ float
 194:Src/main.c    ****   zAccl = zAccl*0.0098;
 463              		.loc 1 194 0
 464 013e 124C     		ldr	r4, .L30+16
 465 0140 2068     		ldr	r0, [r4]	@ float
 466 0142 FFF7FEFF 		bl	__aeabi_f2d
 467              	.LVL31:
 468 0146 0CA3     		adr	r3, .L30
 469 0148 D3E90023 		ldrd	r2, [r3]
 470 014c FFF7FEFF 		bl	__aeabi_dmul
 471              	.LVL32:
 472 0150 FFF7FEFF 		bl	__aeabi_d2f
 473              	.LVL33:
 474 0154 2060     		str	r0, [r4]	@ float
 195:Src/main.c    **** }
 475              		.loc 1 195 0
 476 0156 0E4C     		ldr	r4, .L30+24
 477 0158 2068     		ldr	r0, [r4]	@ float
 478 015a FFF7FEFF 		bl	__aeabi_f2d
 479              	.LVL34:
 480 015e 06A3     		adr	r3, .L30
 481 0160 D3E90023 		ldrd	r2, [r3]
 482 0164 FFF7FEFF 		bl	__aeabi_dmul
 483              	.LVL35:
 484 0168 FFF7FEFF 		bl	__aeabi_d2f
 485              	.LVL36:
 486 016c 2060     		str	r0, [r4]	@ float
 196:Src/main.c    **** 
 487              		.loc 1 196 0
 488 016e 06B0     		add	sp, sp, #24
 489              	.LCFI12:
 490              		.cfi_def_cfa_offset 16
 491              		@ sp needed
 492 0170 70BD     		pop	{r4, r5, r6, pc}
 493              	.L31:
 494 0172 00BFAFF3 		.align	3
 494      0080
 495              	.L30:
 496 0178 6EA301BC 		.word	-1140743314
 497 017c 0512843F 		.word	1065619973
 498 0180 00000000 		.word	hi2c1
 499 0184 00E0FF44 		.word	1157619712
 500 0188 00000000 		.word	.LANCHOR1
 501 018c 00008045 		.word	1166016512
 502 0190 00000000 		.word	.LANCHOR2
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 17


 503 0194 00000000 		.word	.LANCHOR0
 504              		.cfi_endproc
 505              	.LFE128:
 507              		.section	.text.BMX_Check_connection,"ax",%progbits
 508              		.align	1
 509              		.global	BMX_Check_connection
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv4-sp-d16
 515              	BMX_Check_connection:
 516              	.LFB130:
 207:Src/main.c    ****   uint8_t r_data;
 517              		.loc 1 207 0
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 104
 520              		@ frame_needed = 0, uses_anonymous_args = 0
 521 0000 00B5     		push	{lr}
 522              	.LCFI13:
 523              		.cfi_def_cfa_offset 4
 524              		.cfi_offset 14, -4
 525 0002 9FB0     		sub	sp, sp, #124
 526              	.LCFI14:
 527              		.cfi_def_cfa_offset 128
 211:Src/main.c    ****   if (r_data == 0xFA) sprintf(buff,"Connection available\n",r_data);
 528              		.loc 1 211 0
 529 0004 6423     		movs	r3, #100
 530 0006 0293     		str	r3, [sp, #8]
 531 0008 0123     		movs	r3, #1
 532 000a 0193     		str	r3, [sp, #4]
 533 000c 0DF17702 		add	r2, sp, #119
 534 0010 0092     		str	r2, [sp]
 535 0012 0022     		movs	r2, #0
 536 0014 3221     		movs	r1, #50
 537 0016 0E48     		ldr	r0, .L37
 538 0018 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 539              	.LVL37:
 212:Src/main.c    ****   else if (r_data != 0xFA) sprintf(buff,"Connection unavailable\n",r_data);  
 540              		.loc 1 212 0
 541 001c 9DF87720 		ldrb	r2, [sp, #119]	@ zero_extendqisi2
 542 0020 FA2A     		cmp	r2, #250
 543 0022 0FD0     		beq	.L36
 213:Src/main.c    ****   HAL_UART_Transmit (&huart2,(uint8_t*)(&buff[0]),strlen(&k[0]),100);
 544              		.loc 1 213 0 discriminator 1
 545 0024 0B49     		ldr	r1, .L37+4
 546 0026 04A8     		add	r0, sp, #16
 547 0028 FFF7FEFF 		bl	sprintf
 548              	.LVL38:
 549              	.L34:
 214:Src/main.c    **** }
 550              		.loc 1 214 0
 551 002c 0A48     		ldr	r0, .L37+8
 552 002e FFF7FEFF 		bl	strlen
 553              	.LVL39:
 554 0032 6423     		movs	r3, #100
 555 0034 82B2     		uxth	r2, r0
 556 0036 04A9     		add	r1, sp, #16
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 18


 557 0038 0848     		ldr	r0, .L37+12
 558 003a FFF7FEFF 		bl	HAL_UART_Transmit
 559              	.LVL40:
 215:Src/main.c    ****                 
 560              		.loc 1 215 0
 561 003e 1FB0     		add	sp, sp, #124
 562              	.LCFI15:
 563              		.cfi_remember_state
 564              		.cfi_def_cfa_offset 4
 565              		@ sp needed
 566 0040 5DF804FB 		ldr	pc, [sp], #4
 567              	.L36:
 568              	.LCFI16:
 569              		.cfi_restore_state
 212:Src/main.c    ****   else if (r_data != 0xFA) sprintf(buff,"Connection unavailable\n",r_data);  
 570              		.loc 1 212 0 discriminator 1
 571 0044 0649     		ldr	r1, .L37+16
 572 0046 04A8     		add	r0, sp, #16
 573 0048 FFF7FEFF 		bl	sprintf
 574              	.LVL41:
 575 004c EEE7     		b	.L34
 576              	.L38:
 577 004e 00BF     		.align	2
 578              	.L37:
 579 0050 00000000 		.word	hi2c1
 580 0054 18000000 		.word	.LC1
 581 0058 00000000 		.word	k
 582 005c 00000000 		.word	huart2
 583 0060 00000000 		.word	.LC0
 584              		.cfi_endproc
 585              	.LFE130:
 587              		.section	.text._Error_Handler,"ax",%progbits
 588              		.align	1
 589              		.global	_Error_Handler
 590              		.syntax unified
 591              		.thumb
 592              		.thumb_func
 593              		.fpu fpv4-sp-d16
 595              	_Error_Handler:
 596              	.LFB135:
 376:Src/main.c    **** 
 377:Src/main.c    **** /* USER CODE BEGIN 4 */
 378:Src/main.c    **** 
 379:Src/main.c    **** /* USER CODE END 4 */
 380:Src/main.c    **** 
 381:Src/main.c    **** /**
 382:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 383:Src/main.c    ****   * @param  file: The file name as string.
 384:Src/main.c    ****   * @param  line: The line in file as a number.
 385:Src/main.c    ****   * @retval None
 386:Src/main.c    ****   */
 387:Src/main.c    **** void _Error_Handler(char *file, int line)
 388:Src/main.c    **** {
 597              		.loc 1 388 0
 598              		.cfi_startproc
 599              		@ Volatile: function does not return.
 600              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 19


 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              		@ link register save eliminated.
 603              	.LVL42:
 604              	.L40:
 605 0000 FEE7     		b	.L40
 606              		.cfi_endproc
 607              	.LFE135:
 609              		.section	.text.MX_USART2_UART_Init,"ax",%progbits
 610              		.align	1
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 614              		.fpu fpv4-sp-d16
 616              	MX_USART2_UART_Init:
 617              	.LFB133:
 322:Src/main.c    **** 
 618              		.loc 1 322 0
 619              		.cfi_startproc
 620              		@ args = 0, pretend = 0, frame = 0
 621              		@ frame_needed = 0, uses_anonymous_args = 0
 322:Src/main.c    **** 
 622              		.loc 1 322 0
 623 0000 08B5     		push	{r3, lr}
 624              	.LCFI17:
 625              		.cfi_def_cfa_offset 8
 626              		.cfi_offset 3, -8
 627              		.cfi_offset 14, -4
 324:Src/main.c    ****   huart2.Init.BaudRate = 115200;
 628              		.loc 1 324 0
 629 0002 0C48     		ldr	r0, .L45
 630 0004 0C4B     		ldr	r3, .L45+4
 631 0006 0360     		str	r3, [r0]
 325:Src/main.c    ****   huart2.Init.WordLength = UART_WORDLENGTH_8B;
 632              		.loc 1 325 0
 633 0008 4FF4E133 		mov	r3, #115200
 634 000c 4360     		str	r3, [r0, #4]
 326:Src/main.c    ****   huart2.Init.StopBits = UART_STOPBITS_1;
 635              		.loc 1 326 0
 636 000e 0023     		movs	r3, #0
 637 0010 8360     		str	r3, [r0, #8]
 327:Src/main.c    ****   huart2.Init.Parity = UART_PARITY_NONE;
 638              		.loc 1 327 0
 639 0012 C360     		str	r3, [r0, #12]
 328:Src/main.c    ****   huart2.Init.Mode = UART_MODE_TX_RX;
 640              		.loc 1 328 0
 641 0014 0361     		str	r3, [r0, #16]
 329:Src/main.c    ****   huart2.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 642              		.loc 1 329 0
 643 0016 0C22     		movs	r2, #12
 644 0018 4261     		str	r2, [r0, #20]
 330:Src/main.c    ****   huart2.Init.OverSampling = UART_OVERSAMPLING_16;
 645              		.loc 1 330 0
 646 001a 8361     		str	r3, [r0, #24]
 331:Src/main.c    ****   huart2.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
 647              		.loc 1 331 0
 648 001c C361     		str	r3, [r0, #28]
 332:Src/main.c    ****   huart2.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 20


 649              		.loc 1 332 0
 650 001e 0362     		str	r3, [r0, #32]
 333:Src/main.c    ****   if (HAL_UART_Init(&huart2) != HAL_OK)
 651              		.loc 1 333 0
 652 0020 4362     		str	r3, [r0, #36]
 334:Src/main.c    ****   {
 653              		.loc 1 334 0
 654 0022 FFF7FEFF 		bl	HAL_UART_Init
 655              	.LVL43:
 656 0026 00B9     		cbnz	r0, .L44
 339:Src/main.c    **** 
 657              		.loc 1 339 0
 658 0028 08BD     		pop	{r3, pc}
 659              	.L44:
 336:Src/main.c    ****   }
 660              		.loc 1 336 0
 661 002a 4FF4A871 		mov	r1, #336
 662 002e 0348     		ldr	r0, .L45+8
 663 0030 FFF7FEFF 		bl	_Error_Handler
 664              	.LVL44:
 665              	.L46:
 666              		.align	2
 667              	.L45:
 668 0034 00000000 		.word	huart2
 669 0038 00440040 		.word	1073759232
 670 003c 00000000 		.word	.LC2
 671              		.cfi_endproc
 672              	.LFE133:
 674              		.section	.text.MX_I2C1_Init,"ax",%progbits
 675              		.align	1
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 679              		.fpu fpv4-sp-d16
 681              	MX_I2C1_Init:
 682              	.LFB132:
 288:Src/main.c    **** 
 683              		.loc 1 288 0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687 0000 08B5     		push	{r3, lr}
 688              	.LCFI18:
 689              		.cfi_def_cfa_offset 8
 690              		.cfi_offset 3, -8
 691              		.cfi_offset 14, -4
 290:Src/main.c    ****   hi2c1.Init.Timing = 0x10909CEC;
 692              		.loc 1 290 0
 693 0002 1548     		ldr	r0, .L55
 694 0004 154B     		ldr	r3, .L55+4
 695 0006 0360     		str	r3, [r0]
 291:Src/main.c    ****   hi2c1.Init.OwnAddress1 = 0;
 696              		.loc 1 291 0
 697 0008 154B     		ldr	r3, .L55+8
 698 000a 4360     		str	r3, [r0, #4]
 292:Src/main.c    ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 699              		.loc 1 292 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 21


 700 000c 0023     		movs	r3, #0
 701 000e 8360     		str	r3, [r0, #8]
 293:Src/main.c    ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 702              		.loc 1 293 0
 703 0010 0122     		movs	r2, #1
 704 0012 C260     		str	r2, [r0, #12]
 294:Src/main.c    ****   hi2c1.Init.OwnAddress2 = 0;
 705              		.loc 1 294 0
 706 0014 0361     		str	r3, [r0, #16]
 295:Src/main.c    ****   hi2c1.Init.OwnAddress2Masks = I2C_OA2_NOMASK;
 707              		.loc 1 295 0
 708 0016 4361     		str	r3, [r0, #20]
 296:Src/main.c    ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 709              		.loc 1 296 0
 710 0018 8361     		str	r3, [r0, #24]
 297:Src/main.c    ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 711              		.loc 1 297 0
 712 001a C361     		str	r3, [r0, #28]
 298:Src/main.c    ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
 713              		.loc 1 298 0
 714 001c 0362     		str	r3, [r0, #32]
 299:Src/main.c    ****   {
 715              		.loc 1 299 0
 716 001e FFF7FEFF 		bl	HAL_I2C_Init
 717              	.LVL45:
 718 0022 50B9     		cbnz	r0, .L52
 306:Src/main.c    ****   {
 719              		.loc 1 306 0
 720 0024 0021     		movs	r1, #0
 721 0026 0C48     		ldr	r0, .L55
 722 0028 FFF7FEFF 		bl	HAL_I2CEx_ConfigAnalogFilter
 723              	.LVL46:
 724 002c 50B9     		cbnz	r0, .L53
 313:Src/main.c    ****   {
 725              		.loc 1 313 0
 726 002e 0021     		movs	r1, #0
 727 0030 0948     		ldr	r0, .L55
 728 0032 FFF7FEFF 		bl	HAL_I2CEx_ConfigDigitalFilter
 729              	.LVL47:
 730 0036 50B9     		cbnz	r0, .L54
 318:Src/main.c    **** 
 731              		.loc 1 318 0
 732 0038 08BD     		pop	{r3, pc}
 733              	.L52:
 301:Src/main.c    ****   }
 734              		.loc 1 301 0
 735 003a 40F22D11 		movw	r1, #301
 736 003e 0948     		ldr	r0, .L55+12
 737 0040 FFF7FEFF 		bl	_Error_Handler
 738              	.LVL48:
 739              	.L53:
 308:Src/main.c    ****   }
 740              		.loc 1 308 0
 741 0044 4FF49A71 		mov	r1, #308
 742 0048 0648     		ldr	r0, .L55+12
 743 004a FFF7FEFF 		bl	_Error_Handler
 744              	.LVL49:
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 22


 745              	.L54:
 315:Src/main.c    ****   }
 746              		.loc 1 315 0
 747 004e 40F23B11 		movw	r1, #315
 748 0052 0448     		ldr	r0, .L55+12
 749 0054 FFF7FEFF 		bl	_Error_Handler
 750              	.LVL50:
 751              	.L56:
 752              		.align	2
 753              	.L55:
 754 0058 00000000 		.word	hi2c1
 755 005c 00540040 		.word	1073763328
 756 0060 EC9C9010 		.word	277912812
 757 0064 00000000 		.word	.LC2
 758              		.cfi_endproc
 759              	.LFE132:
 761              		.section	.text.SystemClock_Config,"ax",%progbits
 762              		.align	1
 763              		.global	SystemClock_Config
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 767              		.fpu fpv4-sp-d16
 769              	SystemClock_Config:
 770              	.LFB131:
 222:Src/main.c    **** 
 771              		.loc 1 222 0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 224
 774              		@ frame_needed = 0, uses_anonymous_args = 0
 775 0000 00B5     		push	{lr}
 776              	.LCFI19:
 777              		.cfi_def_cfa_offset 4
 778              		.cfi_offset 14, -4
 779 0002 B9B0     		sub	sp, sp, #228
 780              	.LCFI20:
 781              		.cfi_def_cfa_offset 232
 230:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 782              		.loc 1 230 0
 783 0004 0223     		movs	r3, #2
 784 0006 2793     		str	r3, [sp, #156]
 231:Src/main.c    ****   RCC_OscInitStruct.HSICalibrationValue = 16;
 785              		.loc 1 231 0
 786 0008 4FF48072 		mov	r2, #256
 787 000c 2A92     		str	r2, [sp, #168]
 232:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 788              		.loc 1 232 0
 789 000e 1022     		movs	r2, #16
 790 0010 2B92     		str	r2, [sp, #172]
 233:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
 791              		.loc 1 233 0
 792 0012 3193     		str	r3, [sp, #196]
 234:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLM = 1;
 793              		.loc 1 234 0
 794 0014 3293     		str	r3, [sp, #200]
 235:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLN = 10;
 795              		.loc 1 235 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 23


 796 0016 0122     		movs	r2, #1
 797 0018 3392     		str	r2, [sp, #204]
 236:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV7;
 798              		.loc 1 236 0
 799 001a 0A22     		movs	r2, #10
 800 001c 3492     		str	r2, [sp, #208]
 237:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLQ = RCC_PLLQ_DIV2;
 801              		.loc 1 237 0
 802 001e 0722     		movs	r2, #7
 803 0020 3592     		str	r2, [sp, #212]
 238:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLR = RCC_PLLR_DIV2;
 804              		.loc 1 238 0
 805 0022 3693     		str	r3, [sp, #216]
 239:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 806              		.loc 1 239 0
 807 0024 3793     		str	r3, [sp, #220]
 240:Src/main.c    ****   {
 808              		.loc 1 240 0
 809 0026 27A8     		add	r0, sp, #156
 810 0028 FFF7FEFF 		bl	HAL_RCC_OscConfig
 811              	.LVL51:
 812 002c 70BB     		cbnz	r0, .L63
 247:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 813              		.loc 1 247 0
 814 002e 0F23     		movs	r3, #15
 815 0030 2293     		str	r3, [sp, #136]
 249:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 816              		.loc 1 249 0
 817 0032 0323     		movs	r3, #3
 818 0034 2393     		str	r3, [sp, #140]
 250:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV1;
 819              		.loc 1 250 0
 820 0036 0023     		movs	r3, #0
 821 0038 2493     		str	r3, [sp, #144]
 251:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 822              		.loc 1 251 0
 823 003a 2593     		str	r3, [sp, #148]
 252:Src/main.c    **** 
 824              		.loc 1 252 0
 825 003c 2693     		str	r3, [sp, #152]
 254:Src/main.c    ****   {
 826              		.loc 1 254 0
 827 003e 0421     		movs	r1, #4
 828 0040 22A8     		add	r0, sp, #136
 829 0042 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 830              	.LVL52:
 831 0046 28BB     		cbnz	r0, .L64
 259:Src/main.c    ****   PeriphClkInit.Usart2ClockSelection = RCC_USART2CLKSOURCE_PCLK1;
 832              		.loc 1 259 0
 833 0048 4223     		movs	r3, #66
 834 004a 0093     		str	r3, [sp]
 260:Src/main.c    ****   PeriphClkInit.I2c1ClockSelection = RCC_I2C1CLKSOURCE_PCLK1;
 835              		.loc 1 260 0
 836 004c 0023     		movs	r3, #0
 837 004e 0F93     		str	r3, [sp, #60]
 261:Src/main.c    ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 838              		.loc 1 261 0
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 24


 839 0050 1493     		str	r3, [sp, #80]
 262:Src/main.c    ****   {
 840              		.loc 1 262 0
 841 0052 6846     		mov	r0, sp
 842 0054 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 843              	.LVL53:
 844 0058 08BB     		cbnz	r0, .L65
 269:Src/main.c    ****   {
 845              		.loc 1 269 0
 846 005a 4FF40070 		mov	r0, #512
 847 005e FFF7FEFF 		bl	HAL_PWREx_ControlVoltageScaling
 848              	.LVL54:
 849 0062 08BB     		cbnz	r0, .L66
 276:Src/main.c    **** 
 850              		.loc 1 276 0
 851 0064 FFF7FEFF 		bl	HAL_RCC_GetHCLKFreq
 852              	.LVL55:
 853 0068 124B     		ldr	r3, .L67
 854 006a A3FB0030 		umull	r3, r0, r3, r0
 855 006e 8009     		lsrs	r0, r0, #6
 856 0070 FFF7FEFF 		bl	HAL_SYSTICK_Config
 857              	.LVL56:
 280:Src/main.c    **** 
 858              		.loc 1 280 0
 859 0074 0420     		movs	r0, #4
 860 0076 FFF7FEFF 		bl	HAL_SYSTICK_CLKSourceConfig
 861              	.LVL57:
 283:Src/main.c    **** }
 862              		.loc 1 283 0
 863 007a 0022     		movs	r2, #0
 864 007c 1146     		mov	r1, r2
 865 007e 4FF0FF30 		mov	r0, #-1
 866 0082 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 867              	.LVL58:
 284:Src/main.c    **** 
 868              		.loc 1 284 0
 869 0086 39B0     		add	sp, sp, #228
 870              	.LCFI21:
 871              		.cfi_remember_state
 872              		.cfi_def_cfa_offset 4
 873              		@ sp needed
 874 0088 5DF804FB 		ldr	pc, [sp], #4
 875              	.L63:
 876              	.LCFI22:
 877              		.cfi_restore_state
 242:Src/main.c    ****   }
 878              		.loc 1 242 0
 879 008c F221     		movs	r1, #242
 880 008e 0A48     		ldr	r0, .L67+4
 881 0090 FFF7FEFF 		bl	_Error_Handler
 882              	.LVL59:
 883              	.L64:
 256:Src/main.c    ****   }
 884              		.loc 1 256 0
 885 0094 4FF48071 		mov	r1, #256
 886 0098 0748     		ldr	r0, .L67+4
 887 009a FFF7FEFF 		bl	_Error_Handler
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 25


 888              	.LVL60:
 889              	.L65:
 264:Src/main.c    ****   }
 890              		.loc 1 264 0
 891 009e 4FF48471 		mov	r1, #264
 892 00a2 0548     		ldr	r0, .L67+4
 893 00a4 FFF7FEFF 		bl	_Error_Handler
 894              	.LVL61:
 895              	.L66:
 271:Src/main.c    ****   }
 896              		.loc 1 271 0
 897 00a8 40F20F11 		movw	r1, #271
 898 00ac 0248     		ldr	r0, .L67+4
 899 00ae FFF7FEFF 		bl	_Error_Handler
 900              	.LVL62:
 901              	.L68:
 902 00b2 00BF     		.align	2
 903              	.L67:
 904 00b4 D34D6210 		.word	274877907
 905 00b8 00000000 		.word	.LC2
 906              		.cfi_endproc
 907              	.LFE131:
 909              		.section	.text.main,"ax",%progbits
 910              		.align	1
 911              		.global	main
 912              		.syntax unified
 913              		.thumb
 914              		.thumb_func
 915              		.fpu fpv4-sp-d16
 917              	main:
 918              	.LFB126:
  88:Src/main.c    ****   /* USER CODE BEGIN 1 */
 919              		.loc 1 88 0
 920              		.cfi_startproc
 921              		@ Volatile: function does not return.
 922              		@ args = 0, pretend = 0, frame = 0
 923              		@ frame_needed = 0, uses_anonymous_args = 0
 924 0000 08B5     		push	{r3, lr}
 925              	.LCFI23:
 926              		.cfi_def_cfa_offset 8
 927              		.cfi_offset 3, -8
 928              		.cfi_offset 14, -4
  96:Src/main.c    **** 
 929              		.loc 1 96 0
 930 0002 FFF7FEFF 		bl	HAL_Init
 931              	.LVL63:
 103:Src/main.c    **** 
 932              		.loc 1 103 0
 933 0006 FFF7FEFF 		bl	SystemClock_Config
 934              	.LVL64:
 110:Src/main.c    ****   MX_USART2_UART_Init();
 935              		.loc 1 110 0
 936 000a FFF7FEFF 		bl	MX_GPIO_Init
 937              	.LVL65:
 111:Src/main.c    ****   MX_I2C1_Init();
 938              		.loc 1 111 0
 939 000e FFF7FEFF 		bl	MX_USART2_UART_Init
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 26


 940              	.LVL66:
 112:Src/main.c    ****   /* USER CODE BEGIN 2 */
 941              		.loc 1 112 0
 942 0012 FFF7FEFF 		bl	MX_I2C1_Init
 943              	.LVL67:
 114:Src/main.c    ****   BMX_Check_connection();
 944              		.loc 1 114 0
 945 0016 FFF7FEFF 		bl	BMX_Init
 946              	.LVL68:
 115:Src/main.c    ****   /* USER CODE END 2 */
 947              		.loc 1 115 0
 948 001a FFF7FEFF 		bl	BMX_Check_connection
 949              	.LVL69:
 950              	.L70:
 951 001e FEE7     		b	.L70
 952              		.cfi_endproc
 953              	.LFE126:
 955              		.comm	s,100,4
 956              		.comm	k,100,4
 957              		.global	r_data2
 958              		.global	r_data
 959              		.global	zAccl
 960              		.global	yAccl
 961              		.global	xAccl
 962              		.comm	huart2,120,4
 963              		.comm	hi2c1,76,4
 964              		.section	.bss.r_data,"aw",%nobits
 967              	r_data:
 968 0000 00       		.space	1
 969              		.section	.bss.r_data2,"aw",%nobits
 972              	r_data2:
 973 0000 00       		.space	1
 974              		.section	.bss.xAccl,"aw",%nobits
 975              		.align	2
 976              		.set	.LANCHOR0,. + 0
 979              	xAccl:
 980 0000 00000000 		.space	4
 981              		.section	.bss.yAccl,"aw",%nobits
 982              		.align	2
 983              		.set	.LANCHOR1,. + 0
 986              	yAccl:
 987 0000 00000000 		.space	4
 988              		.section	.bss.zAccl,"aw",%nobits
 989              		.align	2
 990              		.set	.LANCHOR2,. + 0
 993              	zAccl:
 994 0000 00000000 		.space	4
 995              		.section	.rodata.BMX_Check_connection.str1.4,"aMS",%progbits,1
 996              		.align	2
 997              	.LC0:
 998 0000 436F6E6E 		.ascii	"Connection available\012\000"
 998      65637469 
 998      6F6E2061 
 998      7661696C 
 998      61626C65 
 999 0016 0000     		.space	2
 1000              	.LC1:
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 27


 1001 0018 436F6E6E 		.ascii	"Connection unavailable\012\000"
 1001      65637469 
 1001      6F6E2075 
 1001      6E617661 
 1001      696C6162 
 1002              		.section	.rodata.MX_USART2_UART_Init.str1.4,"aMS",%progbits,1
 1003              		.align	2
 1004              	.LC2:
 1005 0000 5372632F 		.ascii	"Src/main.c\000"
 1005      6D61696E 
 1005      2E6300
 1006              		.text
 1007              	.Letext0:
 1008              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1009              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1010              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1011              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 1012              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 1013              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1014              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc.h"
 1015              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc_ex.h"
 1016              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1017              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1018              		.file 12 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h"
 1019              		.file 13 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 1020              		.file 14 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1021              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1022              		.file 16 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1023              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-ea
 1024              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1025              		.file 19 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c_ex.h"
 1026              		.file 20 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pwr_ex.h"
 1027              		.file 21 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_cortex.h"
 1028              		.file 22 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 1029              		.file 23 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:18     .text.MX_GPIO_Init:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:24     .text.MX_GPIO_Init:00000000 MX_GPIO_Init
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:124    .text.MX_GPIO_Init:0000008c $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:131    .text.BMX_Init:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:138    .text.BMX_Init:00000000 BMX_Init
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:221    .text.BMX_Init:00000070 $d
                            *COM*:0000004c hi2c1
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:226    .text.BMX_Set_Shadow_dis:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:233    .text.BMX_Set_Shadow_dis:00000000 BMX_Set_Shadow_dis
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:285    .text.BMX_Set_Shadow_dis:00000034 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:293    .text.BMX_Accl:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:300    .text.BMX_Accl:00000000 BMX_Accl
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:496    .text.BMX_Accl:00000178 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:508    .text.BMX_Check_connection:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:515    .text.BMX_Check_connection:00000000 BMX_Check_connection
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:579    .text.BMX_Check_connection:00000050 $d
                            *COM*:00000064 k
                            *COM*:00000078 huart2
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:588    .text._Error_Handler:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:595    .text._Error_Handler:00000000 _Error_Handler
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:610    .text.MX_USART2_UART_Init:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:616    .text.MX_USART2_UART_Init:00000000 MX_USART2_UART_Init
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:668    .text.MX_USART2_UART_Init:00000034 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:675    .text.MX_I2C1_Init:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:681    .text.MX_I2C1_Init:00000000 MX_I2C1_Init
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:754    .text.MX_I2C1_Init:00000058 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:762    .text.SystemClock_Config:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:769    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:904    .text.SystemClock_Config:000000b4 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:910    .text.main:00000000 $t
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:917    .text.main:00000000 main
                            *COM*:00000064 s
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:972    .bss.r_data2:00000000 r_data2
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:967    .bss.r_data:00000000 r_data
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:993    .bss.zAccl:00000000 zAccl
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:986    .bss.yAccl:00000000 yAccl
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:979    .bss.xAccl:00000000 xAccl
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:968    .bss.r_data:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:973    .bss.r_data2:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:975    .bss.xAccl:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:982    .bss.yAccl:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:989    .bss.zAccl:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:996    .rodata.BMX_Check_connection.str1.4:00000000 $d
C:\Users\81806\AppData\Local\Temp\ccP68y46.s:1003   .rodata.MX_USART2_UART_Init.str1.4:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_I2C_Mem_Write
HAL_Delay
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
HAL_I2C_Mem_Read
sprintf
ARM GAS  C:\Users\81806\AppData\Local\Temp\ccP68y46.s 			page 29


strlen
HAL_UART_Transmit
HAL_UART_Init
HAL_I2C_Init
HAL_I2CEx_ConfigAnalogFilter
HAL_I2CEx_ConfigDigitalFilter
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_PWREx_ControlVoltageScaling
HAL_RCC_GetHCLKFreq
HAL_SYSTICK_Config
HAL_SYSTICK_CLKSourceConfig
HAL_NVIC_SetPriority
HAL_Init
